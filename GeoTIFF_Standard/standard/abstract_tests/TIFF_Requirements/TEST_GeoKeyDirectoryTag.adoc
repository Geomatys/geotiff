==== Requirements Class GeoKeyDirectoryTag
http://www.opengis.net/spec/GeoTIFF/0.0/GeoKeyDirectoryTag

[cols=">20h,<80d",width="100%"]
|===
|Test id: |http://www.opengis.net/spec/GeoTIFF/0.0/GeoKeyDirectoryTag.ID
|Requirement: |The GeoKeyDirectoryTag SHALL have ID = 34735
|Test purpose: | Verify that the GeoTIFF file includes a GeoKeyDirectoryTag. 
|Test method: | Confirm that there is one and only one TIFF Tag with the value of 34735.
|===
[cols=">20h,<80d",width="100%"]
|===
|Test id: |http://www.opengis.net/spec/GeoTIFF/0.0/GeoKeyDirectoryTag.type
|Requirement: |The GeoKeyDirectoryTag SHALL have type = SHORT (2-byte unsigned integer)
|Test purpose: | Verify that...
|Test method: | Inspect...
|===
[cols=">20h,<80d",width="100%"]
|===
|Test id: |http://www.opengis.net/spec/GeoTIFF/0.0/GeoKeyDirectoryTag.count
|Requirement: |The GeoKeyDirectoryTag SHALL include at least 4 keys (short integers) as header information
|Test purpose: | Verify that there are at least four keys in the GeoKeyDirectory and that those keys contain the header information
|Test method: | Inspect...
|===
[cols=">20h,<80d",width="100%"]
|===
|Test id: |http://www.opengis.net/spec/GeoTIFF/0.0/GeoKeyDirectoryTag.keyDirectoryVersion
|Requirement: |The first unsigned short integer in the GeoKeyDirectoryTag SHALL hold the KeyDirectoryVersion.
|Test purpose: | Verify that the first header value contains a valid value for the KeyDirectoryVersion.
|Test method: | Inspect...
|===
[cols=">20h,<80d",width="100%"]
|===
|Test id: |http://www.opengis.net/spec/GeoTIFF/0.0/GeoKeyDirectoryTag.keyRevision
|Requirement: |The second unsigned short integer in the GeoKeyDirectoryTag SHALL hold the KeyRevision
|Test purpose: | Verify that the second header value contains a valid value for the KeyRevision.
|Test method: | Inspect...
|===
[cols=">20h,<80d",width="100%"]
|===
|Test id: |http://www.opengis.net/spec/GeoTIFF/0.0/GeoKeyDirectoryTag.minorRevision
|Requirement: |The third unsigned short integer in the GeoKeyDirectoryTag SHALL hold the MinorRevision.
|Requirement: |The MinorRevision for this standard SHALL be 1.0.
|Test purpose: | Verify that the third header value contains a valid value for the MinorRevision.
|Test method: | Read the third header value and validate that the value is 1.0.
|===
[cols=">20h,<80d",width="100%"]
|===
|Test id: |http://www.opengis.net/spec/GeoTIFF/0.0/GeoKeyDirectoryTag.numberOfKeys
|Requirement: |The fourth unsigned short integer in the GeoKeyDirectoryTag SHALL hold the NumberOfKeys defined in the rest of the GeoKeyDirectoryTag.
|Test purpose: | Verify that...
|Test method: | Read the fourth header value. Pass this "count" value to test http://www.opengis.net/spec/GeoTIFF/0.0/GeoKeyDirectoryTag.keyEntrySet 
|===
[cols=">20h,<80d",width="100%"]
|===
|Test id: |http://www.opengis.net/spec/GeoTIFF/0.0/GeoKeyDirectoryTag.keyEntrySet
|Requirement: |The GeoKeyDirectoryTag SHALL hold NumberOfKeys KeyEntry Sets in addition to the header information
|Test purpose: | Verify that...
|Test method: | While count > 0 {read the next KeyEntrySet;execute test ;count = count -1}
|===
[cols=">20h,<80d",width="100%"]
|===
|Test id: |http://www.opengis.net/spec/GeoTIFF/0.0/GeoKeyDirectoryTag.KeyEntry
|Requirement: |Each Key Entry in the Key Entry Set SHALL include 4 unsigned short integer values
|Requirement: |The first unsigned short integer in the Key Entry SHALL hold the key identifier.
|Test purpose: | Verify that...
|Test method: | Read the first unsigned short integer value value. Pass this "geokey" value to test http://www.opengis.net/spec/GeoTIFF/0.0/GeoKeyDirectoryTag.keyEntryTIFFTagLocation 
|===
[cols=">20h,<80d",width="100%"]
|===
|Test id: |http://www.opengis.net/spec/GeoTIFF/0.0/GeoKeyDirectoryTag.keyEntryTIFFTagLocation
|Requirement: |The second unsigned short integer in the Key Entry SHALL hold the TIFF Tag Location. The value of this entry shall be a valid GeoTIFF tag identifier or a zero (0)
|Test purpose: | Verify that the second short integer identifies a valid GeoTIFF tag. 
|Test method: | Read the second unsigned short integer. Based on this value: 
| |  0: Execute Test http://www.opengis.net/spec/GeoTIFF/0.0/GeoShortParams
| |  34736: Execute test (double)
| |  34737: Execute test (ASCII)
| |  other values: Error - invalid TIFF Tag Location
|===
[cols=">20h,<80d",width="100%"]
|===
|Test id: |http://www.opengis.net/spec/GeoTIFF/0.0/
GeoKeyDirectoryTag.keyEntryKeyCount
|Requirement: |The Third unsigned short integer in the Key Entry SHALL indicate the number of values associated with this key.
|Test purpose: | Verify that...
|Test method: | Inspect...
|===
[cols=">20h,<80d",width="100%"]
|===
|Test id: |http://www.opengis.net/spec/GeoTIFF/0.0/GeoKeyDirectoryTag.keyEntryValueOffset
|Requirement: |The fourth unsigned short integer in the Key Entry SHALL hold either the key value (if TIFF Tag location = 0) or the index into the tag indicated by the TIFF Tag Location value
|Test purpose: | Verify that...
|Test method: | Inspect...
|===

