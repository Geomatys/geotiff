=== EllipsoidGeoKey Test

*Test id:* Geodetic_CRS_GeoKey/EllipsoidGeoKey

*Requirements:* 

[width="100%"]
|===
|http://www.opengis.net/spec/GeoTIFF/1.1/EllipsoidGeoKey.ID 
|http://www.opengis.net/spec/GeoTIFF/1.1/EllipsoidGeoKey.type
|http://www.opengis.net/spec/GeoTIFF/1.1/EllipsoidGeoKey.reserved
|http://www.opengis.net/spec/GeoTIFF/1.1/EllipsoidGeoKey.EPSG
|http://www.opengis.net/spec/GeoTIFF/1.1/EllipsoidGeoKey.user-defined
|http://www.opengis.net/spec/GeoTIFF/1.1/EllipsoidGeoKey.private
|===

*Purpose:* Verify the contents of the EllipsoidGeoKey parameter

*Pre-conditions* The KeyLength and KeyValueOffset values have been set. 

*Test Variables:*

[cols=">20,^20,<80",width="100%", Options="header"]
|===
^|**Variable** ^|**Scope** ^|**Description**
|KeyLength |Parameter |The length of the value for this GeoKey
|KeyValueOffset |Parameter |The location of the GeoKey value in the file 
|===

*Test Process:*

    Read a Short value from the GeoTIFF file starting at KeyValueOffset.
    
    Verify that the value is between 1024 and 32766 (EPSG Codes)
      or
    between 32768 and 65535 (private) 
      or
    equal to 32767 (user-defined).
    
    IF value = 32767 THEN verify that there is a GTCitationGeoKey (GeoKey 1026) and EllipsoidSemiMajorAxisGeoKey (GeoKey 2057) in the GeoTIFF file.
 
    IF value = 32767 THEN verify that there is a EllipsoidSemiMinorAxisGeoKey (GeoKey 2058) or an EllipsoidInvFlatteningGeoKey (GeoKey 2059) in the GeoTIFF file.
    
    
